# Руководство пользователя TranslatorHoi4

## Оглавление
1. [Введение](#введение)
2. [Установка](#установка)
3. [Базовое использование](#базовое-использование)
4. [Настройки](#настройки)
5. [Режимы перевода](#режимы-перевода)
6. [Работа с глоссариями](#работа-с-глоссариями)
7. [Советы и рекомендации](#советы-и-рекомендации)
8. [Устранение неполадок](#устранение-неполадок)

## Введение

TranslatorHoi4 — это мощный инструмент для автоматического перевода модов для игр Paradox Interactive. Он использует современные AI-модели для качественного перевода текстов с учетом игрового контекста.

## Установка

### Для Windows
1. Скачайте последнюю версию с [страницы релизов](https://github.com/Locon213/TranslatorHoi4/releases)
2. Распакуйте архив в удобное место
3. Запустите `translatorhoi4.exe`

### Для Linux
1. Скачайте архив для Linux
2. Распакуйте: `tar -xzf translatorhoi4-linux.tar.gz`
3. Сделайте файл исполняемым: `chmod +x translatorhoi4`
4. Запустите: `./translatorhoi4`

## Базовое использование

### Первый запуск
1. Откройте программу
2. Выберите папку с модом в поле "Source mod folder"
3. Укажите исходный язык (обычно английский)
4. Укажите целевой язык перевода
5. Выберите AI-провайдера
6. Нажмите "Start Translation"

### Интерфейс программы
- **Верхняя панель**: Основные элементы управления
- **Центральная область**: Прогресс перевода и логи
- **Нижняя панель**: Настройки и дополнительные опции

## Настройки

### Основные настройки
- **Source language**: Язык оригинальных текстов
- **Target language**: Язык перевода
- **AI Provider**: Сервис для перевода
- **Model**: Конкретная модель AI
- **RPM**: Подстройка под RPM вашего API

### Дополнительные настройки
- **Temperature**: Креативность перевода (0.0-1.0)
- **Chunk size**: Размер блоков для перевода

### Настройки API
- **API Key**: Ключ для доступа к платным сервисам
- **API URL**: URL для API (если отличается от стандартного)

### Параметр Async (Асинхронный режим)
**Что это такое:** Параметр "Use Async" управляет режимом обработки запросов к AI-провайдеру.

**Как работает:**
- **Включено (по умолчанию)**: Запросы к AI-провайдеру отправляются асинхронно, что позволяет обрабатывать несколько ключей одновременно
- **Выключено**: Запросы обрабатываются синхронно, по одному за раз

**Преимущества асинхронного режима:**
- **Быстрее перевод**: Одновременная валидация нескольких ключей ускоряет процесс
- **Эффективность**: Лучше использует ресурсы AI-провайдера
- **Производительность**: Особенно заметно при переводе больших модов

**Недостатки:**
- **Сложность отладки**: При ошибках сложнее определить проблемный запрос
- **Нагрузка на API**: Может привести к превышению лимитов при высоком concurrency

**Рекомендации:**
- **Для больших модов**: Включайте для ускорения перевода
- **Для отладки**: Отключайте при первом запуске или при проблемах
- **Для стабильности**: Используйте с умеренным значением concurrency (6-12)

**Связь с другими параметрами:**
- Работает совместно с параметром "Concurrency" - количеством одновременных запросов
- В пакетном режиме влияет на количество одновременно валидирующихся ключей
- Не влияет на обычный режим перевода (там используется другая логика)

## Режимы перевода

### Обычный режим
Переводит все файлы локализации подряд. Подходит для небольших модов.

### Пакетный режим
Разбивает большие моды на части и переводит их поочередно. Позволяет избежать перегрузки API.

### Чанк-режим
Делит текст на блоки определенного размера. Полезен для очень больших файлов.

### Параметр Async (Асинхронный режим)
Параметр **Async** управляет асинхронной обработкой запросов к API перевода:

**Что делает:**
- При включении (Async = ON): Позволяет одновременно обрабатывать несколько запросов к API
- При выключении (Async = OFF): Обрабатывает запросы последовательно, по одному

**Рекомендации:**
- **Рекомендуется включить** для более быстрого перевода, особенно в пакетном режиме
- Особенно полезен при переводе больших модов с множеством ключей
- Позволяет валидировать несколько переводов одновременно

**Настройки:**
- Доступен для провайдеров: G4F, IO Intelligence, OpenAI, Anthropic, Gemini, Yandex Cloud, Fireworks, Groq, Together, Ollama, Mistral
- Настраивается индивидуально для каждого провайдера
- Работает в связке с параметром "Concurrency" (одновременные запросы)

**По умолчанию:** Включен (Async = ON) для всех поддерживаемых провайдеров

### Повторный перевод
Позволяет исправить отдельные строки через интерфейс программы.

## Работа с глоссариями

### Создание глоссария
1. Создайте CSV файл с двумя колонками:
   - Первая: оригинальный термин
   - Вторая: перевод термина
2. Сохраните файл с расширением .csv

### Использование глоссария
1. В настройках укажите путь к файлу глоссария
2. Включите опцию "Use glossary"
3. Программа автоматически подставит ваши термины

### Пример глоссария
```
Wehrmacht,Вермахт
Panzer,Панцер
Blitzkrieg,Блицкриг
```

## Советы и рекомендации

### Выбор провайдера
- **Для тестирования**: Используйте бесплатные провайдеры (G4F, Google Translate)
- **Для качественного перевода**: Используйте Groq или Fireworks.ai
- **Для премиум-качества**: Используйте OpenAI или Anthropic

### Оптимизация перевода
1. Используйте глоссарии для специфических терминов
2. Настройте размер чанков под ваш провайдер
3. Используйте RPM для избежания лимитов API
4. Проверяйте прогресс в реальном времени

### Экономия средств
1. Используйте кэширование для повторных переводов
2. Переводите сначала на бесплатных провайдерах, затем корректируйте на платных
3. Используйте фильтрацию для перевода только нужных файлов

## Устранение неполадок

### Ошибки перевода
- Проверьте подключение к интернету
- Убедитесь в корректности API ключа
- Проверьте лимиты использования API

### Проблемы с кодировкой
- Убедитесь, что файлы локализации в кодировке UTF-8
- Проверьте настройки языка в операционной системе

### Медленный перевод
- Уменьшите размер чанков
- Используйте более быстрые модели

## Поддержка

Если у вас остались вопросы:
- Посетите [страницу Issues](https://github.com/Locon213/TranslatorHoi4/issues)
- Ознакомьтесь с [API документацией](api.md)